{"version":3,"names":["selectCss","MdxSelectStyle0","isHTMLMdxFlyoutItemElement","element","item","Select","handleClick","this","keyboardEvent","handleKeyDown","onButtonBlur","focused","onButtonFocus","onButtonClick","open","onSelectChange","selectChange","emit","selectedItem","select","items","Array","from","host","querySelectorAll","getItems","find","t","componentWillUpdate","selected","render","itemLabel","_a","label","h","Host","key","onItemClick","detail","disabled","required","placeholder","text","class","hint","error"],"sources":["src/components/select/select.scss?tag=mdx-select&encapsulation=shadow","src/components/select/select.tsx"],"sourcesContent":[":host .select {\n  &__flyout {\n    position: absolute;\n    width: 100%;\n    max-height: 0;\n    overflow: hidden;\n    transition: var(--mdx-comp-flyout-transition-expand-collapse);\n  }\n\n  &__information-wrapper {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    font: var(--mdx-comp-select-font-supporting);\n    position: relative;\n  }\n\n  &__hint {\n    color: var(--mdx-comp-select-hint-counter-color-default);\n  }\n\n  &.focused {\n    border-radius: var(--mdx-comp-keyboard-focus-border-radius-default);\n    color: var(--mdx-comp-select-label-color-focus);\n    outline-color: var(--mdx-comp-keyboard-focus-color-default);\n    outline-style: solid;\n    outline-width: var(--mdx-comp-keyboard-focus-border-width-default);\n    outline-offset: 2px;\n  }\n\n  &:focus-within &__information-wrapper &__hint,\n  &:focus-within &__information-wrapper &__error-message {\n    color: var(--mdx-comp-select-hint-counter-color-focus);\n  }\n}\n\n:host([open]) .select {\n  &__flyout {\n    max-height: 100vh;\n    box-shadow: var(--mdx-comp-flyout-box-shadow-default);\n    transition: var(--mdx-comp-flyout-transition-expand-collapse);\n  }\n}\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\n\nconst isHTMLMdxFlyoutItemElement = (element: string | HTMLMdxFlyoutItemElement): element is HTMLMdxFlyoutItemElement =>\n  typeof element === 'object' && typeof element.item === 'string';\n\n@Component({\n  tag: 'mdx-select',\n  styleUrl: 'select.scss',\n  shadow: true,\n})\nexport class Select {\n  @Element()\n  host: HTMLMdxSelectElement;\n\n  @Event()\n  selectChange: EventEmitter<HTMLMdxFlyoutItemElement['item']>;\n\n  @Prop({ reflect: true })\n  selectedItem: HTMLMdxFlyoutItemElement['item'];\n\n  @Prop()\n  disabled = false;\n\n  @Prop()\n  required = false;\n\n  @Prop()\n  label!: string;\n\n  @Prop()\n  text!: string;\n\n  @Prop()\n  hint?: string;\n\n  @Prop()\n  error?: string;\n\n  @Prop({ reflect: true })\n  open = false;\n\n  @State()\n  focused = false;\n\n  @State()\n  keyboardEvent = false;\n\n  @Listen('click', { capture: true, target: 'window' })\n  handleClick() {\n    this.keyboardEvent = false;\n  }\n\n  @Listen('keydown', { capture: true, target: 'window' })\n  handleKeyDown() {\n    this.keyboardEvent = true;\n  }\n\n  @Listen('selectButtonBlur', { capture: true })\n  onButtonBlur() {\n    this.focused = false;\n  }\n\n  @Listen('selectButtonFocus', { capture: true })\n  onButtonFocus() {\n    this.keyboardEvent && (this.focused = true);\n  }\n\n  @Listen('selectButtonClick', { capture: true })\n  onButtonClick() {\n    this.open = !this.open;\n  }\n\n  @Watch('selectedItem')\n  onSelectChange() {\n    this.selectChange.emit(this.selectedItem);\n  }\n\n  private select(item: string) {\n    if (this.selectedItem === item) {\n      return false;\n    }\n    this.selectedItem = item;\n\n    return true;\n  }\n\n  private get items() {\n    return Array.from(this.host.querySelectorAll('mdx-flyout-item'));\n  }\n\n  private getItems(item: string | HTMLMdxFlyoutItemElement): HTMLMdxFlyoutItemElement | undefined {\n    return isHTMLMdxFlyoutItemElement(item) ? item : this.items.find((t) => t.item === item);\n  }\n\n  componentWillUpdate() {\n    const selectedItem = this.getItems(this.selectedItem);\n    if (selectedItem) {\n      selectedItem.selected = true;\n    }\n  }\n\n  render() {\n    const itemLabel = this.getItems(this.selectedItem)?.label;\n\n    return (\n      <Host\n        onItemClick={({ detail: { item } }) => {\n          this.select(item);\n        }}\n      >\n        <mdx-select-button\n          disabled={this.disabled}\n          required={this.required}\n          label={this.label}\n          placeholder={typeof itemLabel !== 'string'}\n          open={this.open}\n          text={itemLabel || this.text}\n        >\n          <div class=\"select__information-wrapper\">\n            <div>\n              {this.hint && (typeof this.error === 'undefined' || this.error === '') && (\n                <span class=\"select__hint\">{this.hint}</span>\n              )}\n              {this.error && <mdx-error-hint text={this.error} />}\n            </div>\n            <div class=\"select__flyout\" aria-haspopup=\"true\" aria-expanded={this.open ? 'true' : 'false'}>\n              <slot></slot>\n            </div>\n          </div>\n        </mdx-select-button>\n      </Host>\n    );\n  }\n}\n"],"mappings":"gEAAA,MAAMA,EAAY,2iCAClB,MAAAC,EAAeD,ECCf,MAAME,EAA8BC,UAC3BA,IAAY,iBAAmBA,EAAQC,OAAS,S,MAO5CC,EAAM,M,8GAWN,M,cAGA,M,4FAeJ,M,aAGG,M,mBAGM,K,CAGhB,WAAAC,GACEC,KAAKC,cAAgB,K,CAIvB,aAAAC,GACEF,KAAKC,cAAgB,I,CAIvB,YAAAE,GACEH,KAAKI,QAAU,K,CAIjB,aAAAC,GACEL,KAAKC,gBAAkBD,KAAKI,QAAU,K,CAIxC,aAAAE,GACEN,KAAKO,MAAQP,KAAKO,I,CAIpB,cAAAC,GACER,KAAKS,aAAaC,KAAKV,KAAKW,a,CAGtB,MAAAC,CAAOf,GACb,GAAIG,KAAKW,eAAiBd,EAAM,CAC9B,OAAO,K,CAETG,KAAKW,aAAed,EAEpB,OAAO,I,CAGT,SAAYgB,GACV,OAAOC,MAAMC,KAAKf,KAAKgB,KAAKC,iBAAiB,mB,CAGvC,QAAAC,CAASrB,GACf,OAAOF,EAA2BE,GAAQA,EAAOG,KAAKa,MAAMM,MAAMC,GAAMA,EAAEvB,OAASA,G,CAGrF,mBAAAwB,GACE,MAAMV,EAAeX,KAAKkB,SAASlB,KAAKW,cACxC,GAAIA,EAAc,CAChBA,EAAaW,SAAW,I,EAI5B,MAAAC,G,MACE,MAAMC,GAAYC,EAAAzB,KAAKkB,SAASlB,KAAKW,iBAAa,MAAAc,SAAA,SAAAA,EAAEC,MAEpD,OACEC,EAACC,EAAI,CAAAC,IAAA,2CACHC,YAAa,EAAGC,QAAUlC,YACxBG,KAAKY,OAAOf,EAAK,GAGnB8B,EAAA,qBAAAE,IAAA,2CACEG,SAAUhC,KAAKgC,SACfC,SAAUjC,KAAKiC,SACfP,MAAO1B,KAAK0B,MACZQ,mBAAoBV,IAAc,SAClCjB,KAAMP,KAAKO,KACX4B,KAAMX,GAAaxB,KAAKmC,MAExBR,EAAA,OAAAE,IAAA,2CAAKO,MAAM,+BACTT,EAAA,OAAAE,IAAA,4CACG7B,KAAKqC,cAAgBrC,KAAKsC,QAAU,aAAetC,KAAKsC,QAAU,KACjEX,EAAA,QAAMS,MAAM,gBAAgBpC,KAAKqC,MAElCrC,KAAKsC,OAASX,EAAA,kBAAgBQ,KAAMnC,KAAKsC,SAE5CX,EAAA,OAAAE,IAAA,2CAAKO,MAAM,iBAAgB,gBAAe,OAAM,gBAAgBpC,KAAKO,KAAO,OAAS,SACnFoB,EAAA,QAAAE,IAAA,gD"}