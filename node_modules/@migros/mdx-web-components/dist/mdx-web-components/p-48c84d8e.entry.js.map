{"version":3,"names":["TRANSLATIONS","de","fr","it","en","DEFAULT_NOTIFICATION_LINKS","cumulusConnection","mailDeliverability","NOTIFICATION_TYPE","MAIL_DELIVERABILITY","CUMULUS_CONNECTION","NONE","loginFlyoutCss","MdxLoginFlyoutStyle0","LoginFlyout","this","formatNotification","email_to","text","_a","language","notification","notificationType","replace","link","_c","_b","notificationLinks","notifications","linkText","_f","_e","_d","connectedCallback","menuItemGroup","parseAttribute","host","render","open","h","key","class","close","onClick","size","ICON_SIZES","SM","userProfileName","dark","Fragment","userProfileEmail","href","length","map","group","title","menuItems","menuItem","label","login","manage","accountUrl","variant","logout","as","menuItemClick","emit"],"sources":["src/components/login-flyout/exports.ts","src/components/login-flyout/login-flyout.scss?tag=mdx-login-flyout&encapsulation=shadow","src/components/login-flyout/login-flyout.tsx"],"sourcesContent":["import de from './translations/de.json';\nimport en from './translations/en.json';\nimport fr from './translations/fr.json';\nimport it from './translations/it.json';\n\nexport const TRANSLATIONS = {\n  de,\n  fr,\n  it,\n  en,\n};\n\nexport const DEFAULT_NOTIFICATION_LINKS = {\n  cumulusConnection: 'https://account.migros.ch/cumulus',\n  mailDeliverability: 'https://account.migros.ch/account',\n};\n\nexport type MenuItemGroup = {\n  title?: string;\n  menuItems: {\n    label: string;\n    href?: string;\n    as?: 'link' | 'button';\n  }[];\n};\n\nexport type NotificationLinks = {\n  notifications: {\n    cumulusConnection?: string;\n    mailDeliverability?: string;\n  };\n};\n\nexport const NOTIFICATION_TYPE = {\n  MAIL_DELIVERABILITY: 'mailDeliverability',\n  CUMULUS_CONNECTION: 'cumulusConnection',\n  NONE: 'none',\n} as const;\n",":host .login-flyout {\n  box-sizing: border-box;\n  width: var(--mdx-comp-login-flyout-sizing-desktop-container-width);\n  height: var(--mdx-comp-login-flyout-sizing-desktop-container-height);\n  background-color: var(--mdx-comp-login-flyout-color-light-container-background-default);\n  box-shadow: var(--mdx-comp-login-flyout-shadow-desktop-container-default);\n  border-radius: var(--mdx-comp-login-flyout-border-radius-desktop-container-default);\n  padding-bottom: var(--mdx-comp-login-flyout-spacing-desktop-container-padding-bottom);\n  position: relative;\n  animation: visible var(--mdx-comp-dialog-transition-fade-in-out-duration)\n    var(--mdx-comp-dialog-transition-fade-in-out-timing-function) var(--mdx-comp-dialog-transition-fade-in-out-delay);\n  z-index: 1001;\n\n  &__close-button {\n    display: none;\n  }\n\n  @media screen and (max-width: 768px) {\n    width: var(--mdx-comp-login-flyout-sizing-mobile-container-width);\n    height: var(--mdx-comp-login-flyout-sizing-mobile-container-height);\n    background-color: var(--mdx-comp-login-flyout-color-light-container-background-default);\n    border-radius: var(--mdx-comp-login-flyout-border-radius-mobile-container-top)\n      var(--mdx-comp-login-flyout-border-radius-mobile-container-top)\n      var(--mdx-comp-login-flyout-border-radius-mobile-container-bottom)\n      var(--mdx-comp-login-flyout-border-radius-mobile-container-bottom);\n    padding-bottom: var(--mdx-comp-login-flyout-spacing-mobile-container-padding-bottom);\n    box-shadow: var(--mdx-comp-login-flyout-shadow-mobile-container-default);\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    animation: slide-in var(--mdx-comp-dialog-transition-fade-in-out-duration)\n      var(--mdx-comp-dialog-transition-fade-in-out-timing-function) var(--mdx-comp-dialog-transition-fade-in-out-delay);\n    z-index: 1001;\n    overflow-y: auto;\n    max-height: 100vh;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    &__title-container {\n      position: sticky;\n      top: 0;\n    }\n\n    &__close-button {\n      all: unset;\n      height: var(--mdx-comp-icon-button-medium-sizing-base-default);\n      width: var(--mdx-comp-icon-button-medium-sizing-base-default);\n      size: var(--mdx-comp-login-flyout-border-width-mobile-title-close-button-default);\n      position: absolute;\n      cursor: pointer;\n      right: var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-right);\n      top: var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-top);\n\n      &__icon {\n        color: var(--mdx-comp-login-flyout-color-light-flyout-title-close-button-color-default);\n\n        &:hover {\n          color: var(--mdx-comp-login-flyout-color-light-flyout-title-close-button-color-hover);\n        }\n      }\n    }\n  }\n\n  &__triangle {\n    width: 16px;\n    height: 16px;\n    background-color: var(--mdx-comp-login-flyout-color-light-container-background-default);\n    rotate: -45deg;\n    position: absolute;\n    right: var(--mdx-comp-login-flyout-spacing-desktop-container-triangle-margin-right);\n    top: -8px;\n\n    @media screen and (max-width: 768px) {\n      display: none;\n    }\n  }\n\n  &__username {\n    padding: var(--mdx-comp-login-flyout-spacing-desktop-flyout-title-padding-top)\n      var(--mdx-comp-login-flyout-spacing-desktop-flyout-title-padding-right)\n      var(--mdx-comp-login-flyout-spacing-desktop-flyout-title-padding-bottom)\n      var(--mdx-comp-login-flyout-spacing-desktop-flyout-title-padding-left);\n    font: var(--mdx-comp-login-flyout-typography-desktop-flyout-title-default);\n    hyphens: auto;\n    background-color: var(--mdx-comp-login-flyout-color-light-container-background-default);\n    border-radius: var(--mdx-comp-login-flyout-border-radius-desktop-container-default);\n\n    @media screen and (max-width: 768px) {\n      padding: calc(\n          var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-user-name-padding-top) +\n            var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-top)\n        )\n        var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-right)\n        var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-bottom)\n        var(--mdx-comp-login-flyout-spacing-mobile-flyout-title-padding-left);\n      font: var(--mdx-comp-login-flyout-typography-mobile-flyout-title-default);\n      hyphens: auto;\n    }\n  }\n\n  &__notification {\n    display: flex;\n    font: var(--mdx-comp-login-flyout-typography-desktop-notification-default);\n    height: var(--mdx-comp-login-flyout-sizing-desktop-notification-height);\n    padding: var(--mdx-comp-login-flyout-spacing-mobile-notification-padding-top)\n      var(--mdx-comp-login-flyout-spacing-mobile-notification-padding-left);\n    gap: var(--mdx-comp-login-flyout-spacing-mobile-notification-gap-image-text-horizontal);\n\n    @media screen and (max-width: 768px) {\n      padding: var(--mdx-comp-login-flyout-spacing-mobile-notification-padding-top)\n        var(--mdx-comp-login-flyout-spacing-mobile-notification-padding-left);\n      gap: var(--mdx-comp-login-flyout-spacing-mobile-notification-gap-image-text-horizontal);\n    }\n\n    &__img-container {\n      width: var(--mdx-comp-login-flyout-sizing-desktop-notification-image-width);\n      height: var(--mdx-comp-login-flyout-sizing-desktop-notification-image-height);\n    }\n\n    &__content-container {\n      display: flex;\n      flex-direction: column;\n      align-items: start;\n      gap: var(--mdx-comp-login-flyout-spacing-desktop-notification-gap-text-button-vertical);\n\n      @media screen and (max-width: 768px) {\n        gap: var(--mdx-comp-login-flyout-spacing-mobile-notification-gap-text-button-vertical);\n      }\n\n      &__text {\n        hyphens: auto;\n      }\n    }\n\n    &__link {\n      all: unset;\n      font: var(--mdx-comp-login-flyout-typography-desktop-notification-button-default-default);\n      background-color: var(--mdx-comp-login-flyout-color-light-notification-button-background-default);\n      color: var(--mdx-comp-login-flyout-color-light-notification-button-color-default);\n      padding: var(--mdx-comp-login-flyout-spacing-desktop-notification-button-padding-top)\n        var(--mdx-comp-login-flyout-spacing-desktop-notification-button-padding-left);\n      border-radius: var(--mdx-comp-login-flyout-border-radius-desktop-notification-button-default);\n      border-color: var(--mdx-comp-login-flyout-color-light-notification-button-border-default);\n      cursor: pointer;\n      hyphens: auto;\n\n      &:focus-visible {\n        border-radius: var(--mdx-comp-keyboard-focus-border-radius-default);\n        outline-color: var(--mdx-comp-keyboard-focus-color-default);\n        outline-style: solid;\n        outline-width: var(--mdx-comp-keyboard-focus-border-width-default);\n        outline-offset: 2px;\n      }\n\n      @media screen and (max-width: 768px) {\n        font: var(--mdx-comp-login-flyout-typography-mobile-notification-button-default-default);\n      }\n\n      &:hover {\n        color: var(--mdx-comp-login-flyout-color-light-notification-button-color-hover);\n        background-color: var(--mdx-comp-login-flyout-color-light-notification-button-background-hover);\n        border-color: var(--mdx-comp-login-flyout-color-light-notification-button-border-hover);\n      }\n    }\n  }\n\n  &__menu-group {\n    &__container {\n      display: flex;\n      text-transform: uppercase;\n      height: var(--mdx-comp-login-flyout-sizing-desktop-menu-items-title-height);\n      align-items: center;\n    }\n\n    &__title {\n      display: block;\n      font: var(--mdx-comp-login-flyout-typography-desktop-menu-items-title-default);\n      padding-right: var(--mdx-comp-login-flyout-spacing-desktop-menu-items-title-padding-right);\n      padding-left: var(--mdx-comp-login-flyout-spacing-desktop-menu-items-title-padding-left);\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      @media screen and (max-width: 768px) {\n        padding-right: var(--mdx-comp-login-flyout-spacing-mobile-menu-items-title-padding-right);\n        padding-left: var(--mdx-comp-login-flyout-spacing-mobile-menu-items-title-padding-left);\n        font: var(--mdx-comp-login-flyout-typography-mobile-menu-items-title-default);\n      }\n    }\n\n    &__li {\n      list-style-type: none;\n    }\n\n    &__ul {\n      all: unset;\n    }\n  }\n}\n\n:host([dark]) .login-flyout {\n  background-color: var(--mdx-comp-login-flyout-color-dark-container-background-default);\n\n  &__triangle {\n    background-color: var(--mdx-comp-login-flyout-color-dark-container-background-default);\n  }\n  &__username {\n    color: var(--mdx-comp-login-flyout-color-dark-flyout-title-color-default);\n    background-color: var(--mdx-comp-login-flyout-color-dark-container-background-default);\n  }\n\n  &__close-button__icon {\n    color: var(--mdx-comp-login-flyout-color-dark-flyout-title-close-button-color-default);\n\n    &:hover {\n      color: var(--mdx-comp-login-flyout-color-dark-flyout-title-close-button-color-hover);\n    }\n  }\n\n  &__menu-group__title {\n    color: var(--mdx-comp-login-flyout-color-dark-menu-items-title-color-default);\n  }\n\n  &__notification {\n    &__content-container__text {\n      color: var(--mdx-comp-login-flyout-color-dark-notification-color-default);\n    }\n\n    &__link {\n      background-color: var(--mdx-comp-login-flyout-color-dark-notification-button-background-default);\n      color: var(--mdx-comp-login-flyout-color-dark-notification-button-color-default);\n      border-color: var(--mdx-comp-login-flyout-color-dark-notification-button-border-default);\n\n      &:hover {\n        color: var(--mdx-comp-login-flyout-color-dark-notification-button-color-hover);\n        background-color: var(--mdx-comp-login-flyout-color-dark-notification-button-background-hover);\n        border-color: var(--mdx-comp-login-flyout-color-dark-notification-button-border-hover);\n      }\n    }\n  }\n}\n\n@keyframes visible {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes slide-in {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n","import { Component, Element, Event, EventEmitter, Fragment, Prop, h } from '@stencil/core';\nimport { parseAttribute } from '../../utils';\nimport { ICON_SIZES } from '../icons/exports';\nimport { DEFAULT_NOTIFICATION_LINKS, MenuItemGroup, NOTIFICATION_TYPE, NotificationLinks, TRANSLATIONS } from './exports';\n\n@Component({\n  tag: 'mdx-login-flyout',\n  styleUrl: 'login-flyout.scss',\n  shadow: true,\n})\nexport class LoginFlyout {\n  @Element()\n  host: HTMLMdxLoginFlyoutElement;\n\n  @Prop({ reflect: true })\n  notificationType: (typeof NOTIFICATION_TYPE)[keyof typeof NOTIFICATION_TYPE] = NOTIFICATION_TYPE.NONE;\n\n  @Prop()\n  userProfileName: string;\n\n  @Prop()\n  userProfileEmail: string;\n\n  @Prop()\n  accountUrl: string;\n\n  @Prop({ reflect: true })\n  open = false;\n\n  @Prop()\n  language: keyof typeof TRANSLATIONS = 'de';\n\n  @Prop({ reflect: true })\n  dark: boolean;\n\n  @Event()\n  logout: EventEmitter<void>;\n\n  @Prop()\n  menuItemGroup: MenuItemGroup[] = [];\n\n  @Prop()\n  notificationLinks: NotificationLinks;\n\n  connectedCallback() {\n    this.menuItemGroup = parseAttribute(this.host, 'menu-item-group', this.menuItemGroup);\n    this.notificationLinks = parseAttribute(this.host, 'notification-links', this.notificationLinks);\n  }\n\n  private formatNotification = (email_to: string | undefined) => ({\n    text: TRANSLATIONS[this.language].notification?.[this.notificationType].text.replace('{email_to}', email_to || ''),\n    link:\n      this.notificationLinks?.notifications?.[this.notificationType] || DEFAULT_NOTIFICATION_LINKS[this.notificationType],\n    linkText: TRANSLATIONS[this.language]?.notification?.[this.notificationType]?.linkText,\n  });\n\n  render() {\n    return (\n      this.open && (\n        <div class=\"login-flyout\">\n          <div class=\"login-flyout__triangle\" />\n          <div class=\"login-flyout__title-container\">\n            <button\n              class=\"login-flyout__close-button\"\n              aria-label={TRANSLATIONS[this.language].close}\n              onClick={() => (this.open = false)}\n            >\n              <mdx-icon-x size={ICON_SIZES.SM} class=\"login-flyout__close-button__icon\" />\n            </button>\n            <div class=\"login-flyout__username\">{this.userProfileName}</div>\n          </div>\n          <mdx-login-flyout-divider dark={this.dark} />\n          {this.notificationType !== 'none' && (\n            <Fragment>\n              <div class=\"login-flyout__notification\">\n                <div class=\"login-flyout__notification__img-container\">\n                  {this.notificationType === 'mailDeliverability' ? <mdx-verify-alert /> : <mdx-cumulus-alert />}\n                </div>\n                <div class=\"login-flyout__notification__content-container\">\n                  <div class=\"login-flyout__notification__content-container__text\">\n                    {this.formatNotification(this.userProfileEmail).text}\n                  </div>\n                  <a class=\"login-flyout__notification__link\" href={this.formatNotification(this.notificationType).link}>\n                    {this.formatNotification(this.notificationType).linkText}\n                  </a>\n                </div>\n              </div>\n              <mdx-login-flyout-divider dark={this.dark} />\n            </Fragment>\n          )}\n          {this.menuItemGroup && this.menuItemGroup.length > 0 && (\n            <Fragment>\n              {this.menuItemGroup.map((group) => (\n                <div class=\"login-flyout__menu-group\">\n                  {group.title && (\n                    <div class=\"login-flyout__menu-group__container\">\n                      <span class=\"login-flyout__menu-group__title\">{group.title}</span>\n                    </div>\n                  )}\n                  <ul class=\"login-flyout__menu-group__ul\">\n                    {group.menuItems.map((menuItem, key) => (\n                      <li class=\"login-flyout__menu-group__li\" key={key}>\n                        <mdx-login-flyout-menu-item label={menuItem.label} href={menuItem.href} dark={this.dark} />\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n              <mdx-login-flyout-divider dark={this.dark} />\n            </Fragment>\n          )}\n          <mdx-login-flyout-menu-item\n            label={TRANSLATIONS[this.language].login.manage}\n            href={this.accountUrl}\n            variant=\"account\"\n            dark={this.dark}\n          />\n          <mdx-login-flyout-divider dark={this.dark} />\n          <mdx-login-flyout-menu-item\n            label={TRANSLATIONS[this.language].login.logout}\n            as=\"button\"\n            dark={this.dark}\n            menuItemClick={() => this.logout && this.logout.emit()}\n          />\n        </div>\n      )\n    );\n  }\n}\n"],"mappings":"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"}