{"version":3,"names":["searchCss","SearchInput","this","handleInputChange","event","value","target","matchedItems","_a","suggestionlist","filter","item","label","toLowerCase","includes","matchedInput","select","selectedItem","render","h","Host","class","onClick","searchTrigger","emit","size","ICON_SIZES","SM","type","spellcheck","disabled","placeholder","onInput","onKeyUp","key","input","host","shadowRoot","querySelector","focus","length","map","element","onItemClick","detail"],"sources":["src/components/search/search.scss?tag=mdx-search-input&encapsulation=shadow","src/components/search/search.tsx"],"sourcesContent":[":host .search {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  box-sizing: border-box;\n  padding-left: var(--mdx-comp-searchbar-padding-vertical-default);\n  padding-right: var(--mdx-comp-searchbar-padding-vertical-default);\n  width: var(--mdx-comp-searchbar-sizing-width-desktop);\n  height: var(--mdx-comp-searchbar-sizing-height);\n  background-color: var(--mdx-comp-searchbar-background-color-default);\n  border-radius: var(--mdx-comp-searchbar-border-radius-default);\n  box-shadow: var(--mdx-comp-searchbar-box-shadow-default);\n  border: var(--mdx-comp-searchbar-border-width-default) solid var(--mdx-comp-searchbar-border-color-default);\n\n  @media screen and (max-width: 768px) {\n    width: var(--mdx-comp-searchbar-sizing-width-mobile);\n  }\n\n  &__button {\n    all: unset;\n    cursor: pointer;\n    height: min-content;\n\n    &:focus-visible {\n      z-index: 10;\n      border-radius: var(--mdx-comp-keyboard-focus-border-radius-default);\n      outline-color: var(--mdx-comp-keyboard-focus-color-default);\n      outline-style: solid;\n      outline-width: var(--mdx-comp-keyboard-focus-border-width-default);\n      outline-offset: 2px;\n    }\n  }\n\n  &__flyout {\n    position: absolute;\n    padding: 5px 0 0 5px;\n    width: var(--mdx-comp-searchbar-sizing-width-desktop);\n\n    @media screen and (max-width: 768px) {\n      width: var(--mdx-comp-searchbar-sizing-width-mobile);\n    }\n  }\n\n  &:focus-within {\n    background-color: var(--mdx-comp-searchbar-background-color-focus);\n    box-shadow: var(--mdx-comp-searchbar-box-shadow-focus);\n    border-color: var(--mdx-comp-searchbar-border-color-focus);\n  }\n\n  &__icon-search {\n    color: var(--mdx-comp-searchbar-search-button-color-default);\n\n    &:hover {\n      color: var(--mdx-comp-searchbar-search-button-color-hover);\n    }\n  }\n\n  &__input {\n    width: 100%;\n    border: none;\n    outline: none;\n    background-color: inherit;\n    padding-left: var(--mdx-comp-searchbar-padding-vertical-default);\n    caret-color: var(--mdx-comp-searchbar-border-color-focus);\n    color: var(--mdx-comp-searchbar-input-color-default);\n    font: var(--mdx-comp-searchbar-font-default);\n    letter-spacing: var(--mdx-comp-searchbar-font-default-letter-spacing);\n    text-transform: var(--mdx-comp-searchbar-font-default-text-case);\n    text-decoration: var(--mdx-comp-searchbar-font-default-text-decoration);\n\n    &::placeholder {\n      color: var(--mdx-comp-searchbar-placeholder-color-default);\n    }\n\n    &:focus-within {\n      color: var(--mdx-comp-searchbar-input-color-focus);\n    }\n  }\n\n  &__icon-x {\n    margin-left: auto;\n    color: var(--mdx-comp-searchbar-clear-button-color-default);\n\n    &:hover {\n      color: var(--mdx-comp-searchbar-clear-button-color-hover);\n    }\n  }\n}\n\n:host([disabled]) .search {\n  background-color: var(--mdx-comp-searchbar-background-color-disabled);\n  border-color: var(--mdx-comp-searchbar-border-color-disabled);\n\n  &__button {\n    cursor: default;\n  }\n\n  &__input {\n    color: var(--mdx-comp-searchbar-input-color-disabled);\n\n    &::placeholder {\n      color: var(--mdx-comp-searchbar-placeholder-color-disabled);\n    }\n  }\n\n  &__icon-search {\n    color: var(--mdx-comp-searchbar-search-button-color-disabled);\n  }\n\n  &__icon-x {\n    color: var(--mdx-comp-searchbar-clear-button-color-disabled);\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Prop, State } from '@stencil/core';\nimport { ICON_SIZES } from '../icons/exports';\nimport { SuggestionListItem } from '../input/input';\n\n/**\n * @slot - For Label and Icon\n */\n@Component({\n  tag: 'mdx-search-input',\n  styleUrl: 'search.scss',\n  shadow: true,\n})\nexport class SearchInput {\n  @Element()\n  host: HTMLMdxSearchInputElement;\n\n  @Prop()\n  disabled = false;\n\n  @Prop()\n  placeholder: string;\n\n  @Prop()\n  value = '';\n\n  @Prop()\n  suggestionlist?: SuggestionListItem[];\n\n  @Prop()\n  selectedItem: HTMLMdxFlyoutItemElement['item'];\n\n  @Event()\n  searchTrigger: EventEmitter<{ value: string }>;\n\n  @State()\n  matchedInput: { label: string }[] = [];\n\n  private handleInputChange = (event: Event) => {\n    this.value = (event.target as HTMLInputElement).value;\n\n    const matchedItems = this.suggestionlist?.filter((item) => item.label.toLowerCase().includes(this.value.toLowerCase()));\n    this.matchedInput = matchedItems || [];\n  };\n\n  private select(item: string) {\n    if (this.selectedItem === item) {\n      return false;\n    }\n    this.selectedItem = item;\n    return (this.value = this.selectedItem);\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class=\"search\">\n          <button class=\"search__button\" aria-label=\"Search\" onClick={() => this.searchTrigger.emit({ value: this.value })}>\n            <mdx-icon-search size={ICON_SIZES.SM} class=\"search__icon-search\" />\n          </button>\n          <input\n            type=\"text\"\n            class=\"search__input\"\n            value={this.value}\n            spellcheck={false}\n            disabled={this.disabled}\n            placeholder={this.placeholder}\n            onInput={(event) => this.handleInputChange(event)}\n            onKeyUp={(event) => {\n              if (event.key === 'Enter') {\n                this.searchTrigger.emit({ value: this.value });\n              }\n            }}\n          />\n          <button\n            class=\"search__button\"\n            aria-label=\"Clear\"\n            onClick={() => {\n              this.value = '';\n              const input = this.host.shadowRoot?.querySelector('input');\n              input?.focus();\n            }}\n          >\n            <mdx-icon-x size={ICON_SIZES.SM} class=\"search__icon-x\" />\n          </button>\n        </div>\n        {this.value && this.suggestionlist && this.suggestionlist.length > 0 && (\n          <div class=\"search__flyout\">\n            {this.matchedInput.length > 0 && (\n              <mdx-flyout>\n                {this.matchedInput.map((element) => (\n                  <mdx-flyout-item\n                    item={element.label}\n                    label={element.label}\n                    onItemClick={({ detail: { item } }) => {\n                      this.select(item);\n                      this.matchedInput = [];\n                      this.searchTrigger.emit({ value: this.value });\n                    }}\n                  ></mdx-flyout-item>\n                ))}\n              </mdx-flyout>\n            )}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"+FAAA,MAAMA,EAAY,gjG,MCYLC,EAAW,M,sEAyBdC,KAAAC,kBAAqBC,I,MAC3BF,KAAKG,MAASD,EAAME,OAA4BD,MAEhD,MAAME,GAAeC,EAAAN,KAAKO,kBAAc,MAAAD,SAAA,SAAAA,EAAEE,QAAQC,GAASA,EAAKC,MAAMC,cAAcC,SAASZ,KAAKG,MAAMQ,iBACxGX,KAAKa,aAAeR,GAAgB,EAAE,E,cAxB7B,M,sCAMH,G,4EAY4B,E,CAS5B,MAAAS,CAAOL,GACb,GAAIT,KAAKe,eAAiBN,EAAM,CAC9B,OAAO,K,CAETT,KAAKe,aAAeN,EACpB,OAAQT,KAAKG,MAAQH,KAAKe,Y,CAG5B,MAAAC,GACE,OACEC,EAACC,EAAI,KACHD,EAAA,OAAKE,MAAM,UACTF,EAAA,UAAQE,MAAM,iBAAgB,aAAY,SAASC,QAAS,IAAMpB,KAAKqB,cAAcC,KAAK,CAAEnB,MAAOH,KAAKG,SACtGc,EAAA,mBAAiBM,KAAMC,EAAWC,GAAIN,MAAM,yBAE9CF,EAAA,SACES,KAAK,OACLP,MAAM,gBACNhB,MAAOH,KAAKG,MACZwB,WAAY,MACZC,SAAU5B,KAAK4B,SACfC,YAAa7B,KAAK6B,YAClBC,QAAU5B,GAAUF,KAAKC,kBAAkBC,GAC3C6B,QAAU7B,IACR,GAAIA,EAAM8B,MAAQ,QAAS,CACzBhC,KAAKqB,cAAcC,KAAK,CAAEnB,MAAOH,KAAKG,O,KAI5Cc,EAAA,UACEE,MAAM,iBAAgB,aACX,QACXC,QAAS,K,MACPpB,KAAKG,MAAQ,GACb,MAAM8B,GAAQ3B,EAAAN,KAAKkC,KAAKC,cAAU,MAAA7B,SAAA,SAAAA,EAAE8B,cAAc,SAClDH,IAAK,MAALA,SAAK,SAALA,EAAOI,OAAO,GAGhBpB,EAAA,cAAYM,KAAMC,EAAWC,GAAIN,MAAM,qBAG1CnB,KAAKG,OAASH,KAAKO,gBAAkBP,KAAKO,eAAe+B,OAAS,GACjErB,EAAA,OAAKE,MAAM,kBACRnB,KAAKa,aAAayB,OAAS,GAC1BrB,EAAA,kBACGjB,KAAKa,aAAa0B,KAAKC,GACtBvB,EAAA,mBACER,KAAM+B,EAAQ9B,MACdA,MAAO8B,EAAQ9B,MACf+B,YAAa,EAAGC,QAAUjC,YACxBT,KAAKc,OAAOL,GACZT,KAAKa,aAAe,GACpBb,KAAKqB,cAAcC,KAAK,CAAEnB,MAAOH,KAAKG,OAAQ,Q"}