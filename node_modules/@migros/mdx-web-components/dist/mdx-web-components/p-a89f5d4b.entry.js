import{r as t,c as i,h as e,H as s,g as o}from"./p-432d53dc.js";import{B as l,a as d}from"./p-a6dcbf04.js";import{B as r}from"./p-9f489a18.js";import{I as n}from"./p-c2851c2e.js";import{L as h}from"./p-7c90c717.js";const a=":host .filter-category__toggle-button{display:block;margin-bottom:var(--mdx-comp-select-gap-content-below)}:host .filter-category__dot-spacer{color:var(--mdx-comp-filter-flyout-elements-header-dot-spacer-color-default)}:host mdx-filter-flyout{position:absolute;width:var(--mdx-comp-filter-flyout-sizing-width);max-height:0;overflow:hidden;transition:var(--mdx-comp-flyout-transition-expand-collapse)}:host .filters,:host .categories{overflow:hidden auto}:host([view=category]) .filters{display:none}:host([view=filters]) .categories{display:none}:host([open]) mdx-filter-flyout{max-height:100vh;box-shadow:var(--mdx-comp-flyout-box-shadow-default);transition:var(--mdx-comp-flyout-transition-expand-collapse)}";const c=class{constructor(e){t(this,e);this.filterChanged=i(this,"filterChanged",7);this.filterSubmit=i(this,"filterSubmit",7);this.open=false;this.view="category";this.buttonLabel=undefined;this.closeButtonAriaLabel=undefined;this.headerTitle=undefined;this.submitButtonText=undefined;this.backButtonText=undefined;this.resetLinkText=undefined;this.resetAllLinkText=undefined;this.selectAllLinkText=undefined;this.selectedItems={};this.selectedCategoryId=undefined;this.isMobile=window.innerWidth<=768}toggleCheckboxHandler(t){var i,e,s;if(this.selectedCategoryId===undefined){return}if(!t.detail.checked){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.selectedCategoryId]:(i=this.selectedItems[this.selectedCategoryId])===null||i===void 0?void 0:i.filter((i=>i.value!==t.detail.value))})}else if(t.detail.checked&&!((e=this.selectedItems[this.selectedCategoryId])===null||e===void 0?void 0:e.find((i=>i.value===t.detail.value)))){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.selectedCategoryId]:[...(s=this.selectedItems[this.selectedCategoryId])!==null&&s!==void 0?s:[],{label:t.detail.label,value:t.detail.value}]})}this.filterChanged.emit(this.selectedItems)}handleOutsideClick(t){if(this.open&&!this.hostElement.contains(t.target)){this.open=false}}filterFlyoutCloseHandler(){this.open=false}categoryClickHandler(t){var i,e;this.view="filters";this.selectedCategoryId=t.detail.categoryId;const s=(i=this.selectedCategoryItem)===null||i===void 0?void 0:i.childNodes;if(s){(e=this.hostFiltersPlaceholder)===null||e===void 0?void 0:e.replaceChildren();s.forEach((t=>{var i;(i=this.hostFiltersPlaceholder)===null||i===void 0?void 0:i.append(t.cloneNode(true))}))}}onWindowResize(){this.isMobile=window.innerWidth<=768}get hostFiltersPlaceholder(){var t;return(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector("#filter_placeholder")}clearFilterHandler(t){var i;if(t!==undefined){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[t]:[]})}else{this.selectedItems={}}(i=this.hostFiltersPlaceholder)===null||i===void 0?void 0:i.querySelectorAll("mdx-checkbox").forEach((t=>{t.checked=false}));this.filterChanged.emit(this.selectedItems)}selectAll(){var t;(t=this.hostFiltersPlaceholder)===null||t===void 0?void 0:t.querySelectorAll("mdx-checkbox").forEach((t=>{var i,e;t.checked=true;if(this.selectedCategoryId===undefined){return}if(!((i=this.selectedItems[this.selectedCategoryId])===null||i===void 0?void 0:i.find((i=>i.value===t.value)))){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.selectedCategoryId]:[...(e=this.selectedItems[this.selectedCategoryId])!==null&&e!==void 0?e:[],{label:t.label,value:t.value}]})}}));this.filterChanged.emit(this.selectedItems)}componentDidRender(){var t,i;if(this.selectedCategoryId!==undefined){(t=this.hostFiltersPlaceholder)===null||t===void 0?void 0:t.querySelectorAll("mdx-checkbox").forEach((t=>{var i;t.checked=this.selectedCategoryId!=undefined&&!!((i=this.selectedItems[this.selectedCategoryId])===null||i===void 0?void 0:i.find((i=>i.value===t.value)))}))}else{(i=this.hostElement)===null||i===void 0?void 0:i.querySelectorAll("mdx-filter-category-item").forEach((t=>{const i=t.getAttribute("category-id");if(!i){return}const e=this.getSelectedFiltersCount(i);if(e===0){t.removeAttribute("badge");return}t.setAttribute("badge",e.toString())}))}}get selectedCategoryItem(){var t;return this.selectedCategoryId!==undefined?Array.from((t=this.hostElement)===null||t===void 0?void 0:t.querySelectorAll("mdx-filter-category-item")).find((t=>t.getAttribute("category-id")===this.selectedCategoryId)):undefined}getSelectedFiltersCount(t){var i,e;return t!==undefined?(e=(i=this.selectedItems[t])===null||i===void 0?void 0:i.length)!==null&&e!==void 0?e:0:Object.values(this.selectedItems).reduce(((t,i)=>t+i.length),0)}render(){var t;const i=this.getSelectedFiltersCount(this.selectedCategoryId);return e(s,null,this.isMobile?e("mdx-icon-button",{class:"filter-category__toggle-button",onClick:()=>this.open=!this.open,"aria-expanded":this.open?"true":"false",ariaLabel:this.buttonLabel},e("mdx-icon-sliders",{size:n.SM})):e("mdx-button",{class:"filter-category__toggle-button",onClick:()=>this.open=!this.open,"aria-expanded":this.open?"true":"false"},e("mdx-icon-sliders",{size:n.SM})," ",this.buttonLabel),e("mdx-filter-flyout",{open:this.open,role:"dialog","aria-label":this.headerTitle},e("mdx-filter-flyout-header",{closeButtonAriaLabel:this.closeButtonAriaLabel},this.selectedCategoryId===undefined?e("h2",{slot:"header"},this.headerTitle):e("h2",{slot:"header"},(t=this.selectedCategoryItem)===null||t===void 0?void 0:t.getAttribute("name")),i>0?e("mdx-badge",{slot:"header",size:l.MD,variant:d.SECONDARY},i):null),e("mdx-filter-flyout-list",{class:"categories"},e("mdx-link",{slot:"controls",variant:h.STANDALONE,onClick:()=>this.clearFilterHandler()},this.resetAllLinkText),e("slot",{name:"categories",slot:"items"})),e("mdx-filter-flyout-list",{class:"filters"},e("mdx-link",{slot:"controls",variant:h.STANDALONE,onClick:()=>this.selectAll()},this.selectAllLinkText),e("svg",{class:"filter-category__dot-spacer",width:"2",height:"2",slot:"controls",viewBox:"0 0 2 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("circle",{cx:"1",cy:"1",r:"1",fill:"currentColor"})),e("mdx-link",{slot:"controls",variant:h.STANDALONE,onClick:()=>this.clearFilterHandler(this.selectedCategoryId)},this.resetLinkText),e("div",{id:"filter_placeholder",slot:"items"})),e("mdx-filter-flyout-footer",null,e("mdx-button",{"full-width":true,slot:"button",onClick:()=>{this.filterSubmit.emit(this.selectedItems);this.open=false}},this.submitButtonText),this.selectedCategoryId!=undefined&&e("mdx-button",{"full-width":true,slot:"button",variant:r.TERTIARY,onClick:()=>{this.selectedCategoryId=undefined;this.view="category"}},this.backButtonText))))}get hostElement(){return o(this)}};c.style=a;export{c as mdx_filter_category};
//# sourceMappingURL=p-a89f5d4b.entry.js.map