{"version":3,"names":["TOOLTIP_POSITIONS","TOP","BOTTOM","LEFT","RIGHT","TOOLTIP_ALIGNMENT","CENTER","START","END","tooltipCss","MdxTooltipStyle0","Tooltip","this","tooltipId","Math","random","toString","substring","updateTooltipPosition","debounce","_updateTooltipPosition","bind","handleResize","isOpen","autopositionTooltip","handleScroll","handleOutsideClick","event","host","contains","target","handleButtonClick","openOnHover","handleMouseEnter","handleMouseLeave","componentDidRender","children","setAttribute","_b","_a","shadowRoot","querySelector","_d","_c","_f","_e","hasIconSlot","flyout","flyoutRect","getBoundingClientRect","left","width","window","innerWidth","position","top","innerHeight","alignment","right","height","bottom","render","h","key","class","onMouseEnter","onMouseLeave","onFocusout","onFocusin","onClick","name"],"sources":["src/components/tooltip/exports.ts","src/components/tooltip/tooltip.scss?tag=mdx-tooltip&encapsulation=shadow","src/components/tooltip/tooltip.tsx"],"sourcesContent":["export const TOOLTIP_POSITIONS = {\n  TOP: 'top',\n  BOTTOM: 'bottom',\n  LEFT: 'left',\n  RIGHT: 'right',\n} as const;\n\nexport const TOOLTIP_ALIGNMENT = {\n  CENTER: 'center',\n  START: 'start',\n  END: 'end',\n} as const;\n","$tooltip-arrow-offset: 1rem;\n$tooltip-offset: 1rem;\n\n:host .tooltip {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n}\n\n:host {\n  ::slotted([slot='title']) {\n    all: unset;\n    font: var(--mdx-comp-tooltip-container-font-title);\n    font-weight: var(--mdx-comp-tooltip-container-font-weight-title);\n    color: var(--mdx-comp-tooltip-container-color-title);\n    grid-area: title;\n  }\n\n  ::slotted([slot='content']) {\n    grid-area: text;\n  }\n\n  ::slotted([slot='icon']) {\n    grid-area: icon;\n  }\n\n  .tooltip__flyout {\n    display: none;\n  }\n\n  .tooltip__flyout.tooltip__flyout--is-open {\n    position: absolute;\n    z-index: 1;\n    display: grid;\n    grid-template:\n      'icon title' auto\n      'icon text' auto;\n    align-items: start;\n\n    column-gap: var(--mdx-comp-tooltip-container-gap-icon-text);\n    row-gap: var(--mdx-comp-tooltip-container-gap-text-title);\n\n    font: var(--mdx-comp-tooltip-container-font-paragraph);\n    color: var(--mdx-comp-tooltip-container-color-text);\n\n    width: var(--mdx-comp-tooltip-container-sizing-width);\n    padding: var(--mdx-comp-tooltip-container-padding-default);\n    background-color: var(--mdx-comp-tooltip-container-background-color-default);\n    border-color: var(--mdx-comp-tooltip-container-border-color-default);\n    border-radius: var(--mdx-comp-tooltip-container-border-radius-default);\n\n    box-shadow: var(--mdx-comp-tooltip-shadow-default);\n\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: var(--mdx-comp-tooltip-arrow-sizing-width);\n      height: var(--mdx-comp-tooltip-arrow-sizing-width);\n      background-color: var(--mdx-comp-tooltip-container-background-color-default);\n      border-radius: var(--mdx-comp-tooltip-arrow-border-radius-point) 0;\n    }\n  }\n}\n\n:host([position='top']) .tooltip__flyout {\n  bottom: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-bottom: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    top: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='bottom']) .tooltip__flyout {\n  top: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-top: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    bottom: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='top'][alignment='center']) .tooltip__flyout,\n:host([position='bottom'][alignment='center']) .tooltip__flyout {\n  left: 50%;\n  transform: translateX(-50%);\n\n  &::after {\n    left: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='top'][alignment='end']) .tooltip__flyout,\n:host([position='bottom'][alignment='end']) .tooltip__flyout {\n  right: calc(-1 * $tooltip-arrow-offset / 2);\n  left: initial;\n\n  &::after {\n    left: initial;\n    right: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='left']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  right: 100%;\n  margin-right: $tooltip-offset;\n  &::after {\n    top: $tooltip-arrow-offset;\n    left: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='right']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  left: 100%;\n  margin-left: $tooltip-offset;\n\n  &::after {\n    top: $tooltip-arrow-offset;\n    right: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='left'][alignment='center']) .tooltip__flyout,\n:host([position='right'][alignment='center']) .tooltip__flyout {\n  top: 50%;\n  transform: translateY(-50%);\n\n  &::after {\n    top: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='left'][alignment='end']) .tooltip__flyout,\n:host([position='right'][alignment='end']) .tooltip__flyout {\n  bottom: calc(-1 * $tooltip-arrow-offset / 2);\n  top: initial;\n\n  &::after {\n    top: initial;\n    bottom: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='right'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='end'][hide-arrow]) .tooltip__flyout::after {\n  display: none;\n}\n","import { Component, Element, h, Listen, Prop } from '@stencil/core';\n\nimport { debounce } from '../../utils';\nimport { TOOLTIP_ALIGNMENT, TOOLTIP_POSITIONS } from './exports';\n\n@Component({\n  tag: 'mdx-tooltip',\n  styleUrl: 'tooltip.scss',\n  shadow: true,\n})\nexport class Tooltip {\n  @Element()\n  host: HTMLMdxTooltipElement;\n\n  @Prop({ reflect: true })\n  position: (typeof TOOLTIP_POSITIONS)[keyof typeof TOOLTIP_POSITIONS] = TOOLTIP_POSITIONS.RIGHT;\n\n  @Prop({ reflect: true })\n  alignment: (typeof TOOLTIP_ALIGNMENT)[keyof typeof TOOLTIP_ALIGNMENT] = TOOLTIP_ALIGNMENT.START;\n\n  @Prop()\n  hideArrow = false;\n\n  @Prop()\n  openOnHover = false;\n\n  @Prop()\n  autopositionTooltip = false;\n\n  @Prop({ reflect: true })\n  isOpen = false;\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('scroll', { target: 'document' })\n  handleScroll() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOutsideClick(event: MouseEvent) {\n    if (!this.host.contains(event.target as Node)) {\n      this.isOpen = false;\n    }\n  }\n\n  private handleButtonClick() {\n    if (!this.openOnHover) {\n      this.isOpen = !this.isOpen;\n    }\n  }\n\n  private handleMouseEnter() {\n    if (this.openOnHover) {\n      this.isOpen = true;\n    }\n  }\n\n  private handleMouseLeave() {\n    if (this.openOnHover) {\n      this.isOpen = false;\n    }\n  }\n\n  private tooltipId = `mdx-tooltip-${Math.random().toString(36).substring(2, 15)}`;\n\n  componentDidRender() {\n    this.host.children[0].setAttribute('aria-describedby', this.tooltipId);\n    this.host.children[0].setAttribute('aria-haspopup', 'true');\n    this.host.children[0].setAttribute('aria-expanded', this.isOpen ? 'true' : 'false');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('id', this.tooltipId);\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('aria-hidden', this.isOpen ? 'false' : 'true');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('role', 'tooltip');\n\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  private hasIconSlot() {\n    return !!this.host.querySelector('[slot=\"icon\"]');\n  }\n\n  private updateTooltipPosition = debounce(this._updateTooltipPosition.bind(this), 50);\n  private _updateTooltipPosition() {\n    const flyout = this.host.shadowRoot?.querySelector('.tooltip__flyout');\n    if (!flyout) {\n      return;\n    }\n    const flyoutRect = flyout.getBoundingClientRect();\n    if (flyoutRect.left < -20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.RIGHT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.right > window.innerWidth + 20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.LEFT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.top < -20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.BOTTOM;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.bottom > window.innerHeight + 20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.TOP;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={`tooltip ${this.position} ${this.isOpen ? 'open' : ''}`}\n        onMouseEnter={() => this.handleMouseEnter()}\n        onMouseLeave={() => this.handleMouseLeave()}\n        onFocusout={() => (this.isOpen = false)}\n        onFocusin={() => (this.isOpen = true)}\n        onClick={() => this.handleButtonClick()}\n        aria-haspopup=\"true\"\n      >\n        <slot />\n        <div\n          class={`tooltip__flyout${this.hasIconSlot() ? ' tooltip__flyout--has-icon' : ''}${\n            this.isOpen ? ' tooltip__flyout--is-open' : ''\n          }`}\n        >\n          <slot name=\"icon\" />\n          <slot name=\"title\" />\n          <slot name=\"content\" />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}