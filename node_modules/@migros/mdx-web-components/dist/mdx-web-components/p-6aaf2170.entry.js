import{r as t,c as i,h as e,H as s,g as l}from"./p-00d29c61.js";import{B as o,a as h}from"./p-54bdb341.js";import{b as r}from"./p-c6a645d5.js";import{I as n}from"./p-b6c69092.js";import{L as d,a}from"./p-fc359e91.js";const c=":host{position:relative;display:block;width:var(--mdx-comp-filter-flyout-sizing-width)}:host .filter-search-icon{all:unset;color:var(--mdx-comp-filter-flyout-elements-header-icon-color-default);cursor:pointer}:host .filter-search-icon:focus-visible{border-radius:var(--mdx-comp-keyboard-focus-border-radius-default);outline-color:var(--mdx-comp-keyboard-focus-color-default);outline-style:solid;outline-width:var(--mdx-comp-keyboard-focus-border-width-default);outline-offset:2px}:host .filter-search-icon :hover{color:var(--mdx-comp-filter-flyout-elements-header-icon-color-hover)}:host mdx-filter-flyout{position:absolute;width:var(--mdx-comp-filter-flyout-sizing-width);max-height:0;overflow:hidden;transition:var(--mdx-comp-flyout-transition-expand-collapse)}:host([open]) mdx-filter-flyout{max-height:100vh;box-shadow:var(--mdx-comp-flyout-box-shadow-default);transition:var(--mdx-comp-flyout-transition-expand-collapse)}:host([open]) .filter-search-icon{color:var(--mdx-comp-filter-flyout-elements-header-icon-color-hover)}:host([is-filter-hidden]){display:none}";const u=c;const f=class{constructor(e){t(this,e);this.filterChanged=i(this,"filterChanged",7);this.filterSubmit=i(this,"filterSubmit",7);this.open=false;this.isFilterHidden=false;this.closeButtonAriaLabel=undefined;this.buttonSelectLabel=undefined;this.clearButtonSelectAriaLabel=undefined;this.searchIconAriaLabel=undefined;this.headerTitle=undefined;this.submitButtonText=undefined;this.selectAllLinkText=undefined;this.resetLinkText=undefined;this.selectedItems={};this.filterId="filter";this.searchOpen=false;this.searchValue=undefined}selectedItemsChanged(){this.host.querySelectorAll("mdx-checkbox").forEach((t=>{var i;t.checked=((i=this.selectedItems[this.filterId])===null||i===void 0?void 0:i.find((i=>i.value===t.value)))!==undefined}))}handleOutsideClick(t){if(this.open&&!this.host.contains(t.target)){this.open=false}}selectButtonClickHandler(){this.open=!this.open}toggleCheckboxHandler({detail:t}){var i,e,s;{if(!t.checked){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.filterId]:(i=this.selectedItems[this.filterId])===null||i===void 0?void 0:i.filter((i=>i.value!==t.value))})}else if(t.checked&&!((e=this.selectedItems[this.filterId])===null||e===void 0?void 0:e.find((i=>i.value===t.value)))){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.filterId]:[...(s=this.selectedItems[this.filterId])!==null&&s!==void 0?s:[],{label:t.label,value:t.value}]})}}this.filterChanged.emit(this.selectedItems)}selectClearHandler(){this.selectedItems={[this.filterId]:[]};this.host.querySelectorAll("mdx-checkbox").forEach((t=>{t.checked=false}));this.filterChanged.emit(this.selectedItems)}filterFlyoutCloseHandler(){this.open=false}handleSearchInput(t){const i=t.currentTarget.value;this.host.querySelectorAll("mdx-checkbox").forEach((t=>{if(t.label.toLowerCase().includes(i.toLowerCase())){t.style.display="block"}else{t.style.display="none"}}))}getSelectedFiltersCount(t){var i,e;return t!==undefined?(e=(i=this.selectedItems[t])===null||i===void 0?void 0:i.length)!==null&&e!==void 0?e:0:Object.values(this.selectedItems).reduce(((t,i)=>t+i.length),0)}componentWillLoad(){this.selectedItemsChanged()}render(){return!this.isFilterHidden?e(s,null,e("mdx-filter-select",{label:this.buttonSelectLabel,"clear-button-aria-label":this.clearButtonSelectAriaLabel,selectedOptions:Object.values(this.selectedItems).flat().map((t=>t.label)),open:this.open}),e("mdx-filter-flyout",{open:this.open,role:"dialog","aria-label":this.headerTitle},e("mdx-filter-flyout-header",{closeButtonAriaLabel:this.closeButtonAriaLabel},e("h2",{slot:"header"},this.headerTitle),this.getSelectedFiltersCount(this.filterId)>0?e("mdx-badge",{slot:"header",size:o.MD,variant:h.SECONDARY},this.selectedItems[this.filterId].length):null),e("mdx-filter-flyout-list",null,e("mdx-link",{slot:"controls",as:d.BUTTON,type:r.BUTTON,variant:a.STANDALONE,onClick:()=>{this.host.querySelectorAll("mdx-checkbox").forEach((t=>{var i,e,s;t.checked=true;if(this.filterId===undefined){return}if(!((i=this.selectedItems[this.filterId])===null||i===void 0?void 0:i.find((i=>i.value===t.value)))){this.selectedItems=Object.assign(Object.assign({},this.selectedItems),{[this.filterId]:[...(e=this.selectedItems[this.filterId])!==null&&e!==void 0?e:[],{label:t.label,value:(s=t.value)!==null&&s!==void 0?s:""}]})}}));this.filterChanged.emit(this.selectedItems)}},this.selectAllLinkText),e("svg",{width:"2",height:"2",slot:"controls",viewBox:"0 0 2 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e("circle",{cx:"1",cy:"1",r:"1",fill:"currentColor"})),e("mdx-link",{slot:"controls",as:d.BUTTON,type:r.BUTTON,variant:a.STANDALONE,onClick:()=>this.selectClearHandler()},this.resetLinkText),e("button",{slot:"search-icon",class:"filter-search-icon",onClick:()=>this.searchOpen=!this.searchOpen,"aria-label":this.searchIconAriaLabel},e("mdx-icon-search",{slot:"search-icon",size:n.XS})),this.searchOpen?e("mdx-input",{slot:"search",label:"",placeholder:"Suchen...",onInput:t=>this.handleSearchInput(t),value:this.searchValue}):null,e("slot",{slot:"items"})),e("mdx-filter-flyout-footer",null,e("mdx-button",{"full-width":true,slot:"button",type:r.SUBMIT,onClick:()=>{this.filterSubmit.emit(this.selectedItems);this.open=false}},this.submitButtonText)))):null}get host(){return l(this)}static get watchers(){return{selectedItems:["selectedItemsChanged"]}}};f.style=u;export{f as mdx_filter};
//# sourceMappingURL=p-6aaf2170.entry.js.map