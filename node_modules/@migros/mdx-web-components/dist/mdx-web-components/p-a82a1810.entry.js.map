{"version":3,"names":["TOOLTIP_POSITIONS","TOOLTIP_ALIGNMENT","tooltipCss","Tooltip","this","tooltipId","Math","random","toString","substring","updateTooltipPosition","debounce","_updateTooltipPosition","bind","RIGHT","START","handleResize","isOpen","autopositionTooltip","handleScroll","handleOutsideClick","event","host","contains","target","handleButtonClick","openOnHover","handleMouseEnter","handleMouseLeave","componentDidRender","children","setAttribute","_b","_a","shadowRoot","querySelector","_d","_c","_f","_e","hasIconSlot","flyout","flyoutRect","getBoundingClientRect","left","width","window","innerWidth","position","top","innerHeight","alignment","END","CENTER","right","LEFT","height","BOTTOM","bottom","TOP","render","h","class","onMouseEnter","onMouseLeave","onFocusout","onFocusin","onClick","name"],"sources":["src/components/tooltip/exports.ts","src/components/tooltip/tooltip.scss?tag=mdx-tooltip&encapsulation=shadow","src/components/tooltip/tooltip.tsx"],"sourcesContent":["export enum TOOLTIP_POSITIONS {\n  TOP = 'top',\n  BOTTOM = 'bottom',\n  LEFT = 'left',\n  RIGHT = 'right',\n}\n\nexport enum TOOLTIP_ALIGNMENT {\n  CENTER = 'center',\n  START = 'start',\n  END = 'end',\n}\n","$tooltip-arrow-offset: 1rem;\n$tooltip-offset: 1rem;\n\n:host .tooltip {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n}\n\n:host {\n  ::slotted([slot='title']) {\n    all: unset;\n    font: var(--mdx-comp-tooltip-container-font-title);\n    font-weight: var(--mdx-comp-tooltip-container-font-weight-title);\n    color: var(--mdx-comp-tooltip-container-color-title);\n    grid-area: title;\n  }\n\n  ::slotted([slot='content']) {\n    grid-area: text;\n  }\n\n  ::slotted([slot='icon']) {\n    grid-area: icon;\n  }\n\n  .tooltip__flyout {\n    display: none;\n  }\n\n  .tooltip__flyout.tooltip__flyout--is-open {\n    position: absolute;\n    z-index: 1;\n    display: grid;\n    grid-template:\n      'icon title' auto\n      'icon text' auto;\n    align-items: start;\n\n    column-gap: var(--mdx-comp-tooltip-container-gap-icon-text);\n    row-gap: var(--mdx-comp-tooltip-container-gap-text-title);\n\n    font: var(--mdx-comp-tooltip-container-font-paragraph);\n    color: var(--mdx-comp-tooltip-container-color-text);\n\n    width: var(--mdx-comp-tooltip-container-sizing-width);\n    padding: var(--mdx-comp-tooltip-container-padding-default);\n    background-color: var(--mdx-comp-tooltip-container-background-color-default);\n    border-color: var(--mdx-comp-tooltip-container-border-color-default);\n    border-radius: var(--mdx-comp-tooltip-container-border-radius-default);\n\n    box-shadow: var(--mdx-comp-tooltip-shadow-default);\n\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: var(--mdx-comp-tooltip-arrow-sizing-width);\n      height: var(--mdx-comp-tooltip-arrow-sizing-width);\n      background-color: var(--mdx-comp-tooltip-container-background-color-default);\n      border-radius: var(--mdx-comp-tooltip-arrow-border-radius-point) 0;\n    }\n  }\n}\n\n:host([position='top']) .tooltip__flyout {\n  bottom: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-bottom: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    top: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='bottom']) .tooltip__flyout {\n  top: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-top: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    bottom: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='top'][alignment='center']) .tooltip__flyout,\n:host([position='bottom'][alignment='center']) .tooltip__flyout {\n  left: 50%;\n  transform: translateX(-50%);\n\n  &::after {\n    left: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='top'][alignment='end']) .tooltip__flyout,\n:host([position='bottom'][alignment='end']) .tooltip__flyout {\n  right: calc(-1 * $tooltip-arrow-offset / 2);\n  left: initial;\n\n  &::after {\n    left: initial;\n    right: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='left']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  right: 100%;\n  margin-right: $tooltip-offset;\n  &::after {\n    top: $tooltip-arrow-offset;\n    left: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='right']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  left: 100%;\n  margin-left: $tooltip-offset;\n\n  &::after {\n    top: $tooltip-arrow-offset;\n    right: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='left'][alignment='center']) .tooltip__flyout,\n:host([position='right'][alignment='center']) .tooltip__flyout {\n  top: 50%;\n  transform: translateY(-50%);\n\n  &::after {\n    top: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='left'][alignment='end']) .tooltip__flyout,\n:host([position='right'][alignment='end']) .tooltip__flyout {\n  bottom: calc(-1 * $tooltip-arrow-offset / 2);\n  top: initial;\n\n  &::after {\n    top: initial;\n    bottom: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='right'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='end'][hide-arrow]) .tooltip__flyout::after {\n  display: none;\n}\n","import { Component, Element, h, Listen, Prop } from '@stencil/core';\nimport { debounce } from '../../utils/defer';\nimport { TOOLTIP_ALIGNMENT, TOOLTIP_POSITIONS } from './exports';\n\n@Component({\n  tag: 'mdx-tooltip',\n  styleUrl: 'tooltip.scss',\n  shadow: true,\n})\nexport class Tooltip {\n  @Element()\n  host: HTMLMdxTooltipElement;\n\n  @Prop({ reflect: true })\n  position: TOOLTIP_POSITIONS = TOOLTIP_POSITIONS.RIGHT;\n\n  @Prop({ reflect: true })\n  alignment: TOOLTIP_ALIGNMENT = TOOLTIP_ALIGNMENT.START;\n\n  @Prop()\n  hideArrow = false;\n\n  @Prop()\n  openOnHover = false;\n\n  @Prop()\n  autopositionTooltip = false;\n\n  @Prop({ reflect: true })\n  isOpen = false;\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('scroll', { target: 'document' })\n  handleScroll() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOutsideClick(event: MouseEvent) {\n    if (!this.host.contains(event.target as Node)) {\n      this.isOpen = false;\n    }\n  }\n\n  private handleButtonClick() {\n    if (!this.openOnHover) {\n      this.isOpen = !this.isOpen;\n    }\n  }\n\n  private handleMouseEnter() {\n    if (this.openOnHover) {\n      this.isOpen = true;\n    }\n  }\n\n  private handleMouseLeave() {\n    if (this.openOnHover) {\n      this.isOpen = false;\n    }\n  }\n\n  private tooltipId = `mdx-tooltip-${Math.random().toString(36).substring(2, 15)}`;\n\n  componentDidRender() {\n    this.host.children[0].setAttribute('aria-describedby', this.tooltipId);\n    this.host.children[0].setAttribute('aria-haspopup', 'true');\n    this.host.children[0].setAttribute('aria-expanded', this.isOpen ? 'true' : 'false');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('id', this.tooltipId);\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('aria-hidden', this.isOpen ? 'false' : 'true');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('role', 'tooltip');\n\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  private hasIconSlot() {\n    return !!this.host.querySelector('[slot=\"icon\"]');\n  }\n\n  private updateTooltipPosition = debounce(this._updateTooltipPosition.bind(this), 50);\n  private _updateTooltipPosition() {\n    const flyout = this.host.shadowRoot?.querySelector('.tooltip__flyout');\n    if (!flyout) {\n      return;\n    }\n    const flyoutRect = flyout.getBoundingClientRect();\n    if (flyoutRect.left < -20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.RIGHT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.right > window.innerWidth + 20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.LEFT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.top < -20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.BOTTOM;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.bottom > window.innerHeight + 20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.TOP;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={`tooltip ${this.position} ${this.isOpen ? 'open' : ''}`}\n        onMouseEnter={() => this.handleMouseEnter()}\n        onMouseLeave={() => this.handleMouseLeave()}\n        onFocusout={() => (this.isOpen = false)}\n        onFocusin={() => (this.isOpen = true)}\n        onClick={() => this.handleButtonClick()}\n        aria-haspopup=\"true\"\n      >\n        <slot />\n        <div\n          class={`tooltip__flyout${this.hasIconSlot() ? ' tooltip__flyout--has-icon' : ''}${\n            this.isOpen ? ' tooltip__flyout--is-open' : ''\n          }`}\n        >\n          <slot name=\"icon\" />\n          <slot name=\"title\" />\n          <slot name=\"content\" />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}