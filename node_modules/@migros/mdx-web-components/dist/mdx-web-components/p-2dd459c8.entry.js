import{r as t,h as e,H as i,g as a}from"./p-432d53dc.js";import{B as s,a as o,b as n}from"./p-9f489a18.js";import{I as r}from"./p-c2851c2e.js";import{I as d}from"./p-13d0ef30.js";import{T as l}from"./p-a5703b94.js";var c;(function(t){t["DATE"]="date";t["MONTH"]="month";t["YEAR"]="year";t["WEEKDAY"]="weekday"})(c||(c={}));const h=":host{position:relative}:host .date-picker{position:absolute;width:var(--mdx-comp-date-picker-container-sizing-width);height:var(--mdx-comp-date-picker-container-sizing-height);box-shadow:var(--mdx-comp-date-picker-container-shadow-default);border-radius:var(--mdx-comp-date-picker-container-border-radius-default);top:100%;animation:visible var(--mdx-comp-date-picker-transition-fade-in-out-duration) var(--mdx-comp-date-picker-transition-fade-in-out-timing-function) var(--mdx-comp-date-picker-transition-fade-in-out-delay);z-index:10}:host .date-picker__header-button:focus-visible{border-radius:var(--mdx-comp-keyboard-focus-border-radius-default);outline-color:var(--mdx-comp-keyboard-focus-color-default);outline-style:solid;outline-width:var(--mdx-comp-keyboard-focus-border-width-default);outline-offset:2px}:host .date-picker__header-arrow-icon{color:var(--mdx-comp-date-picker-header-icon-color-default)}:host .date-picker__table-heading{display:flex;flex-wrap:wrap;align-content:center;justify-content:center}:host .date-picker__table{padding:var(--mdx-comp-date-picker-container-padding-top-bottom) var(--mdx-comp-date-picker-container-padding-left-right)}:host .date-picker__table-body{display:flex;flex-wrap:wrap;align-content:center}:host .date-picker__table-body-month{display:flex;justify-content:center;flex-wrap:wrap;row-gap:var(--mdx-comp-date-picker-tile-list-spacing-gap-month-vertical)}:host .date-picker__table-body-year{display:flex;justify-content:center;flex-wrap:wrap;row-gap:var(--mdx-comp-date-picker-tile-list-spacing-gap-year-horizontal)}:host .date-picker__table-row-dates{display:flex;justify-content:center;align-items:center;padding:0}:host .date-picker__table-row-month{display:flex;justify-content:center;column-gap:var(--mdx-comp-date-picker-tile-list-spacing-gap-month-horizontal)}:host .date-picker__table-row-year{display:flex;justify-content:center;column-gap:var(--mdx-comp-date-picker-tile-list-spacing-gap-year-horizontal)}:host .date-picker__header-title{pointer-events:none}:host .date-picker__input-icon-button{all:unset;cursor:pointer;color:var(--mdx-comp-inputfield-icon-color-default)}:host .date-picker__input-icon-button:focus-visible{border-radius:var(--mdx-comp-keyboard-focus-border-radius-default);outline-color:var(--mdx-comp-keyboard-focus-color-default);outline-style:solid;outline-width:var(--mdx-comp-keyboard-focus-border-width-default);outline-offset:2px}@media screen and (max-width: 768px){:host .date-picker{display:none}:host .date-picker__input-icon-button{display:none}}@keyframes visible{from{opacity:0}to{opacity:1}}";const p={en:"en-EN",de:"de-DE",fr:"fr-FR",it:"it-IT"};const u={en:["mo","tu","we","th","fr","sa","su"],de:["mo","di","mi","do","fr","sa","so"],fr:["lu","ma","me","je","ve","sa","di"],it:["lu","ma","me","gi","ve","sa","do"]};const m=class{constructor(e){t(this,e);this.arrowUpAriaLabel=undefined;this.arrowDownAriaLabel=undefined;this.cancelButtonAriaLabel=undefined;this.cancelButtonLabel=undefined;this.submitButtonAriaLabel=undefined;this.submitButtonLabel=undefined;this.selectedMode="date";this.monthModeTitle=undefined;this.yearModeTitle=undefined;this.returnButtonLabel=undefined;this.returnButtonAriaLabel=undefined;this.monthHeaderAriaLabel=undefined;this.yearHeaderAriaLabel=undefined;this.calendarIconAriaLabel=undefined;this.inputLabel=undefined;this.selectedMonthView=(new Date).getMonth();this.language="de";this.selectedYearView=(new Date).getFullYear();this.value=new Date;this.open=false;this.variant=c.DATE;this.years=[]}selectTileHandler(t){if(this.selectedMode==="month"){this.selectedMonthView=t.detail.tileValue;this.value.setMonth(this.selectedMonthView);this.selectedMode="date"}else if(this.selectedMode==="year"){this.selectedYearView=t.detail.tileValue;this.value.setFullYear(this.selectedYearView);this.selectedMode="date"}else{this.value=new Date;this.value.setDate(t.detail.tileValue);this.value.setMonth(this.selectedMonthView);this.value.setFullYear(this.selectedYearView)}}arrowClickHandler(t){if(t.detail==="up"&&this.selectedMode==="date"){if(this.selectedMonthView===0){this.selectedMonthView=11;this.selectedYearView--}else this.selectedMonthView--}else if(t.detail==="down"&&this.selectedMode==="date"){if(this.selectedMonthView===11){this.selectedMonthView=0;this.selectedYearView++}else this.selectedMonthView++}else if(t.detail==="up"&&this.selectedMode==="month"){this.selectedYearView--}else if(t.detail==="down"&&this.selectedMode==="month"){this.selectedYearView++}else if(t.detail==="up"&&this.selectedMode==="year"){this.selectedYearView-=16;this.updateYears()}else if(t.detail==="down"&&this.selectedMode==="year"){this.selectedYearView+=16;this.updateYears()}}inputChangeHandler(t){const e=new Date(t.detail.input);const i=e.getDate();const a=e.getMonth()+1;const s=e.getFullYear();if(s>=1e3&&s<=2200&&a>=1&&a<=12&&i>=1&&i<=31){this.selectedYearView=s;this.value=e;this.selectedMonthView=a-1}else{return}}handleKeyDown(t){var e,i;if(t.key===" "&&((i=(e=this.host.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||i===void 0?void 0:i.tagName)==="MDX-INPUT"){t.preventDefault();this.open=true}else if(t.key==="Escape"){this.open=false}}generateMonthDays(t,e){const i=[];const a=new Date(e,t,1);while(a.getMonth()===t){const t=a.getDate();const e=a.toLocaleString(p[this.language],{weekday:"short"}).substring(0,2).toLocaleLowerCase();const s=a.toLocaleString(p[this.language],{weekday:"long"});i.push({date:t,shortWeekday:e,fullWeekday:s});a.setDate(t+1)}return i}generateMonthsAndYears(t){const e=[];const i=new Date(t,0,1);while(i.getFullYear()===t){const t=new Date(i.getFullYear(),i.getMonth(),i.getDate());const a=t.toLocaleString(this.language,{month:"short"});const s=t.toLocaleString(this.language,{month:"long"});e.push({shortMonthName:a,year:i.getFullYear(),monthNumber:i.getMonth(),fullMonthName:s});i.setMonth(i.getMonth()+1)}return e}generateYears(t,e){const i=new Date(t,0,1);const a=[];for(let t=0;t<e;t++){a.push(i.getFullYear());i.setFullYear(i.getFullYear()+1)}return a}formatDateForInput(t){const e=t.getDate().toString().padStart(2,"0");const i=(t.getMonth()+1).toString().padStart(2,"0");const a=t.getFullYear();return`${a}-${i}-${e}`}componentDidRender(){var t,e,i;if(this.selectedMode==="year"||this.selectedMode==="month"){const a=(i=(e=(t=this.host.shadowRoot)===null||t===void 0?void 0:t.querySelector("mdx-date-picker-header"))===null||e===void 0?void 0:e.shadowRoot)===null||i===void 0?void 0:i.querySelector("button");if(a){a.tabIndex=0;a.focus()}}}componentWillLoad(){this.updateYears()}updateYears(){this.years=this.generateYears(this.selectedYearView,16)}chunkArray(t,e){const i=[];for(let a=0;a<t.length;a+=e){i.push(t.slice(a,a+e))}return i}getDates(){const t=this.generateMonthDays(this.selectedMonthView,this.selectedYearView);const i=t.length>0?[...Array(u[this.language].indexOf(t[0].shortWeekday)).keys()].map((()=>null)):[];const a=this.chunkArray([...i,...t],7);const s=a.map((t=>e("tr",{key:t.join("-"),class:"date-picker__table-row-dates"},t.map((t=>{if(t===null){return e("mdx-date-picker-tile",{variant:l.EMPTY,slot:"tile"})}else{return e("mdx-date-picker-tile",{key:t.shortWeekday,variant:l.DATE,slot:"tile",content:t.date.toString(),tileValue:t.date,today:t.date===(new Date).getDate()&&this.selectedMonthView===(new Date).getMonth()&&this.selectedYearView===(new Date).getFullYear(),selected:t.date===this.value.getDate()&&this.selectedMonthView===this.value.getMonth()&&this.selectedYearView===this.value.getFullYear(),tileAriaLabel:`${t.date.toString()} ${t.fullWeekday}`})}})))));return s}getMonths(){const t=this.chunkArray(this.generateMonthsAndYears(this.selectedYearView),3).map((t=>e("tr",{key:t.join("-"),class:"date-picker__table-row-month"},t.map((t=>e("mdx-date-picker-tile",{key:t.shortMonthName,variant:l.MONTH,slot:"tile",content:t.shortMonthName,subContent:t.year.toString(),tileValue:t.monthNumber,today:t.monthNumber===(new Date).getMonth()&&t.year===(new Date).getFullYear(),selected:t.monthNumber===this.value.getMonth()&&t.year===this.value.getFullYear(),tileAriaLabel:t.fullMonthName+" "+t.year}))))));return t}getYears(){const t=this.chunkArray(this.years,4).map((t=>e("tr",{key:t.join("-"),class:"date-picker__table-row-year"},t.map((t=>e("mdx-date-picker-tile",{key:t,variant:l.YEAR,slot:"tile",content:t.toString(),tileValue:t,today:t===(new Date).getFullYear(),selected:t===this.value.getFullYear(),tileAriaLabel:t.toString()}))))));return t}render(){return e(i,null,e("mdx-input",{label:this.inputLabel,type:d.DATE,value:this.formatDateForInput(this.value),"aria-describedby":"dd-mm-yyyy"},e("button",{onClick:()=>this.open=!this.open,slot:"icon",class:"date-picker__input-icon-button","aria-label":this.calendarIconAriaLabel},e("mdx-icon-calendar",{slot:"icon",size:r.SM}))),this.open&&e("div",{class:"date-picker"},this.selectedMode==="date"?e("mdx-date-picker-header",{arrowDownAriaLabel:this.arrowDownAriaLabel,arrowUpAriaLabel:this.arrowUpAriaLabel},e("button",{slot:"title",onClick:()=>this.selectedMode="month","aria-label":this.monthHeaderAriaLabel,class:"date-picker__header-button"},new Date(this.selectedYearView,this.selectedMonthView,1).toLocaleString(this.language,{month:"long"}),e("mdx-icon-chevron-down",{size:r.XS,class:"date-picker__header-arrow-icon"})),e("button",{slot:"title",onClick:()=>{this.selectedMode="year"},"aria-label":this.yearHeaderAriaLabel,class:"date-picker__header-button"},this.selectedYearView,e("mdx-icon-chevron-down",{size:r.XS,class:"date-picker__header-arrow-icon"}))):e("mdx-date-picker-header",null,e("span",{slot:"title",class:"date-picker__header-title"},this.selectedMode==="month"?this.monthModeTitle:this.yearModeTitle)),this.selectedMode==="date"?e("table",{class:"date-picker__table"},e("thead",{class:"date-picker__table-heading"},u[this.language].map((t=>e("mdx-date-picker-tile",{variant:l.WEEKDAY,slot:"tile",content:t,tileAriaLabel:t})))),e("tbody",{class:"date-picker__table-body"},this.getDates())):this.selectedMode==="month"?e("table",{class:"date-picker__table"},e("tbody",{class:"date-picker__table-body-month"},this.getMonths())):e("table",{class:"date-picker__table"},e("tbody",{class:"date-picker__table-body-year"},this.getYears())),this.selectedMode==="date"?e("mdx-date-picker-footer",null,e("mdx-button-group",{slot:"footer"},e("mdx-button",{variant:s.PRIMARY,size:o.SM,ariaLabel:this.submitButtonAriaLabel,onClick:()=>this.open=false,type:n.BUTTON},this.submitButtonLabel),e("mdx-button",{variant:s.TERTIARY,size:o.SM,ariaLabel:this.cancelButtonAriaLabel},this.cancelButtonLabel))):e("mdx-date-picker-footer",null,e("mdx-button",{slot:"footer",variant:s.TERTIARY,size:o.SM,onClick:()=>this.selectedMode="date","aria-label":this.returnButtonAriaLabel},e("mdx-icon-arrow-left",{size:r.SM}),e("span",null,this.returnButtonLabel)))))}get host(){return a(this)}};m.style=h;export{m as mdx_date_picker};
//# sourceMappingURL=p-2dd459c8.entry.js.map