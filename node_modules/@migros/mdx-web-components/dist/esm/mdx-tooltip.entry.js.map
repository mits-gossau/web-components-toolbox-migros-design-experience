{"file":"mdx-tooltip.entry.js","mappings":"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","names":[],"sources":["src/components/tooltip/exports.ts","src/components/tooltip/tooltip.scss?tag=mdx-tooltip&encapsulation=shadow","src/components/tooltip/tooltip.tsx"],"sourcesContent":["export enum TOOLTIP_POSITIONS {\n  TOP = 'top',\n  BOTTOM = 'bottom',\n  LEFT = 'left',\n  RIGHT = 'right',\n}\n\nexport enum TOOLTIP_ALIGNMENT {\n  CENTER = 'center',\n  START = 'start',\n  END = 'end',\n}\n","$tooltip-arrow-offset: 1rem;\n$tooltip-offset: 1rem;\n\n:host .tooltip {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n}\n\n:host {\n  ::slotted([slot='title']) {\n    all: unset;\n    font: var(--mdx-comp-tooltip-container-font-title);\n    font-weight: var(--mdx-comp-tooltip-container-font-weight-title);\n    color: var(--mdx-comp-tooltip-container-color-title);\n    grid-area: title;\n  }\n\n  ::slotted([slot='content']) {\n    grid-area: text;\n  }\n\n  ::slotted([slot='icon']) {\n    grid-area: icon;\n  }\n\n  .tooltip__flyout {\n    display: none;\n  }\n\n  .tooltip__flyout.tooltip__flyout--is-open {\n    position: absolute;\n    z-index: 1;\n    display: grid;\n    grid-template:\n      'icon title' auto\n      'icon text' auto;\n    align-items: start;\n\n    column-gap: var(--mdx-comp-tooltip-container-gap-icon-text);\n    row-gap: var(--mdx-comp-tooltip-container-gap-text-title);\n\n    font: var(--mdx-comp-tooltip-container-font-paragraph);\n    color: var(--mdx-comp-tooltip-container-color-text);\n\n    width: var(--mdx-comp-tooltip-container-sizing-width);\n    padding: var(--mdx-comp-tooltip-container-padding-default);\n    background-color: var(--mdx-comp-tooltip-container-background-color-default);\n    border-color: var(--mdx-comp-tooltip-container-border-color-default);\n    border-radius: var(--mdx-comp-tooltip-container-border-radius-default);\n\n    box-shadow: var(--mdx-comp-tooltip-shadow-default);\n\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: var(--mdx-comp-tooltip-arrow-sizing-width);\n      height: var(--mdx-comp-tooltip-arrow-sizing-width);\n      background-color: var(--mdx-comp-tooltip-container-background-color-default);\n      border-radius: var(--mdx-comp-tooltip-arrow-border-radius-point) 0;\n    }\n  }\n}\n\n:host([position='top']) .tooltip__flyout {\n  bottom: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-bottom: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    top: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='bottom']) .tooltip__flyout {\n  top: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-top: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    bottom: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='top'][alignment='center']) .tooltip__flyout,\n:host([position='bottom'][alignment='center']) .tooltip__flyout {\n  left: 50%;\n  transform: translateX(-50%);\n\n  &::after {\n    left: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='top'][alignment='end']) .tooltip__flyout,\n:host([position='bottom'][alignment='end']) .tooltip__flyout {\n  right: calc(-1 * $tooltip-arrow-offset / 2);\n  left: initial;\n\n  &::after {\n    left: initial;\n    right: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='left']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  right: 100%;\n  margin-right: $tooltip-offset;\n  &::after {\n    top: $tooltip-arrow-offset;\n    left: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='right']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  left: 100%;\n  margin-left: $tooltip-offset;\n\n  &::after {\n    top: $tooltip-arrow-offset;\n    right: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='left'][alignment='center']) .tooltip__flyout,\n:host([position='right'][alignment='center']) .tooltip__flyout {\n  top: 50%;\n  transform: translateY(-50%);\n\n  &::after {\n    top: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='left'][alignment='end']) .tooltip__flyout,\n:host([position='right'][alignment='end']) .tooltip__flyout {\n  bottom: calc(-1 * $tooltip-arrow-offset / 2);\n  top: initial;\n\n  &::after {\n    top: initial;\n    bottom: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='right'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='end'][hide-arrow]) .tooltip__flyout::after {\n  display: none;\n}\n","import { Component, Element, h, Listen, Prop } from '@stencil/core';\nimport { debounce } from '../../utils/defer';\nimport { TOOLTIP_ALIGNMENT, TOOLTIP_POSITIONS } from './exports';\n\n@Component({\n  tag: 'mdx-tooltip',\n  styleUrl: 'tooltip.scss',\n  shadow: true,\n})\nexport class Tooltip {\n  @Element()\n  host: HTMLMdxTooltipElement;\n\n  @Prop({ reflect: true })\n  position: TOOLTIP_POSITIONS = TOOLTIP_POSITIONS.RIGHT;\n\n  @Prop({ reflect: true })\n  alignment: TOOLTIP_ALIGNMENT = TOOLTIP_ALIGNMENT.START;\n\n  @Prop()\n  hideArrow = false;\n\n  @Prop()\n  openOnHover = false;\n\n  @Prop()\n  autopositionTooltip = false;\n\n  @Prop({ reflect: true })\n  isOpen = false;\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('scroll', { target: 'document' })\n  handleScroll() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOutsideClick(event: MouseEvent) {\n    if (!this.host.contains(event.target as Node)) {\n      this.isOpen = false;\n    }\n  }\n\n  private handleButtonClick() {\n    if (!this.openOnHover) {\n      this.isOpen = !this.isOpen;\n    }\n  }\n\n  private handleMouseEnter() {\n    if (this.openOnHover) {\n      this.isOpen = true;\n    }\n  }\n\n  private handleMouseLeave() {\n    if (this.openOnHover) {\n      this.isOpen = false;\n    }\n  }\n\n  private tooltipId = `mdx-tooltip-${Math.random().toString(36).substring(2, 15)}`;\n\n  componentDidRender() {\n    this.host.children[0].setAttribute('aria-describedby', this.tooltipId);\n    this.host.children[0].setAttribute('aria-haspopup', 'true');\n    this.host.children[0].setAttribute('aria-expanded', this.isOpen ? 'true' : 'false');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('id', this.tooltipId);\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('aria-hidden', this.isOpen ? 'false' : 'true');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('role', 'tooltip');\n\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  private hasIconSlot() {\n    return !!this.host.querySelector('[slot=\"icon\"]');\n  }\n\n  private updateTooltipPosition = debounce(this._updateTooltipPosition.bind(this), 50);\n  private _updateTooltipPosition() {\n    const flyout = this.host.shadowRoot?.querySelector('.tooltip__flyout');\n    if (!flyout) {\n      return;\n    }\n    const flyoutRect = flyout.getBoundingClientRect();\n    if (flyoutRect.left < -20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.RIGHT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.right > window.innerWidth + 20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.LEFT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.top < -20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.BOTTOM;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.bottom > window.innerHeight + 20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.TOP;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={`tooltip ${this.position} ${this.isOpen ? 'open' : ''}`}\n        onMouseEnter={() => this.handleMouseEnter()}\n        onMouseLeave={() => this.handleMouseLeave()}\n        onFocusout={() => (this.isOpen = false)}\n        onFocusin={() => (this.isOpen = true)}\n        onClick={() => this.handleButtonClick()}\n        aria-haspopup=\"true\"\n      >\n        <slot />\n        <div\n          class={`tooltip__flyout${this.hasIconSlot() ? ' tooltip__flyout--has-icon' : ''}${\n            this.isOpen ? ' tooltip__flyout--is-open' : ''\n          }`}\n        >\n          <slot name=\"icon\" />\n          <slot name=\"title\" />\n          <slot name=\"content\" />\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}