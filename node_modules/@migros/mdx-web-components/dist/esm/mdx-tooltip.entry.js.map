{"file":"mdx-tooltip.entry.js","mappings":"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","names":[],"sources":["src/components/tooltip/exports.ts","src/components/tooltip/tooltip.scss?tag=mdx-tooltip&encapsulation=shadow","src/components/tooltip/tooltip.tsx"],"sourcesContent":["export const TOOLTIP_POSITIONS = {\n  TOP: 'top',\n  BOTTOM: 'bottom',\n  LEFT: 'left',\n  RIGHT: 'right',\n} as const;\n\nexport const TOOLTIP_ALIGNMENT = {\n  CENTER: 'center',\n  START: 'start',\n  END: 'end',\n} as const;\n","$tooltip-arrow-offset: 1rem;\n$tooltip-offset: 1rem;\n\n:host .tooltip {\n  box-sizing: border-box;\n  position: relative;\n  display: inline-block;\n}\n\n:host {\n  ::slotted([slot='title']) {\n    all: unset;\n    font: var(--mdx-comp-tooltip-container-font-title);\n    font-weight: var(--mdx-comp-tooltip-container-font-weight-title);\n    color: var(--mdx-comp-tooltip-container-color-title);\n    grid-area: title;\n  }\n\n  ::slotted([slot='content']) {\n    grid-area: text;\n  }\n\n  ::slotted([slot='icon']) {\n    grid-area: icon;\n  }\n\n  .tooltip__flyout {\n    display: none;\n  }\n\n  .tooltip__flyout.tooltip__flyout--is-open {\n    position: absolute;\n    z-index: 1;\n    display: grid;\n    grid-template:\n      'icon title' auto\n      'icon text' auto;\n    align-items: start;\n\n    column-gap: var(--mdx-comp-tooltip-container-gap-icon-text);\n    row-gap: var(--mdx-comp-tooltip-container-gap-text-title);\n\n    font: var(--mdx-comp-tooltip-container-font-paragraph);\n    color: var(--mdx-comp-tooltip-container-color-text);\n\n    width: var(--mdx-comp-tooltip-container-sizing-width);\n    padding: var(--mdx-comp-tooltip-container-padding-default);\n    background-color: var(--mdx-comp-tooltip-container-background-color-default);\n    border-color: var(--mdx-comp-tooltip-container-border-color-default);\n    border-radius: var(--mdx-comp-tooltip-container-border-radius-default);\n\n    box-shadow: var(--mdx-comp-tooltip-shadow-default);\n\n    &::after {\n      content: '';\n      position: absolute;\n      display: block;\n      width: var(--mdx-comp-tooltip-arrow-sizing-width);\n      height: var(--mdx-comp-tooltip-arrow-sizing-width);\n      background-color: var(--mdx-comp-tooltip-container-background-color-default);\n      border-radius: var(--mdx-comp-tooltip-arrow-border-radius-point) 0;\n    }\n  }\n}\n\n:host([position='top']) .tooltip__flyout {\n  bottom: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-bottom: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    top: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='bottom']) .tooltip__flyout {\n  top: 100%;\n  left: calc(-1 * $tooltip-arrow-offset / 2);\n  margin-top: $tooltip-offset;\n\n  &::after {\n    left: $tooltip-arrow-offset;\n    bottom: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(45deg);\n  }\n}\n\n:host([position='top'][alignment='center']) .tooltip__flyout,\n:host([position='bottom'][alignment='center']) .tooltip__flyout {\n  left: 50%;\n  transform: translateX(-50%);\n\n  &::after {\n    left: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='top'][alignment='end']) .tooltip__flyout,\n:host([position='bottom'][alignment='end']) .tooltip__flyout {\n  right: calc(-1 * $tooltip-arrow-offset / 2);\n  left: initial;\n\n  &::after {\n    left: initial;\n    right: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='left']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  right: 100%;\n  margin-right: $tooltip-offset;\n  &::after {\n    top: $tooltip-arrow-offset;\n    left: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='right']) .tooltip__flyout {\n  top: calc(-1 * $tooltip-arrow-offset / 2);\n  left: 100%;\n  margin-left: $tooltip-offset;\n\n  &::after {\n    top: $tooltip-arrow-offset;\n    right: calc(100% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n    transform: rotate(-45deg);\n  }\n}\n\n:host([position='left'][alignment='center']) .tooltip__flyout,\n:host([position='right'][alignment='center']) .tooltip__flyout {\n  top: 50%;\n  transform: translateY(-50%);\n\n  &::after {\n    top: calc(50% - calc(var(--mdx-comp-tooltip-arrow-sizing-width) / 2));\n  }\n}\n\n:host([position='left'][alignment='end']) .tooltip__flyout,\n:host([position='right'][alignment='end']) .tooltip__flyout {\n  bottom: calc(-1 * $tooltip-arrow-offset / 2);\n  top: initial;\n\n  &::after {\n    top: initial;\n    bottom: $tooltip-arrow-offset;\n  }\n}\n\n:host([position='right'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='right'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='left'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='bottom'][alignment='end'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='start'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='center'][hide-arrow]) .tooltip__flyout::after,\n:host([position='top'][alignment='end'][hide-arrow]) .tooltip__flyout::after {\n  display: none;\n}\n","import { Component, Element, h, Listen, Prop } from '@stencil/core';\n\nimport { debounce } from '../../utils';\nimport { TOOLTIP_ALIGNMENT, TOOLTIP_POSITIONS } from './exports';\n\n@Component({\n  tag: 'mdx-tooltip',\n  styleUrl: 'tooltip.scss',\n  shadow: true,\n})\nexport class Tooltip {\n  @Element()\n  host: HTMLMdxTooltipElement;\n\n  @Prop({ reflect: true })\n  position: (typeof TOOLTIP_POSITIONS)[keyof typeof TOOLTIP_POSITIONS] = TOOLTIP_POSITIONS.RIGHT;\n\n  @Prop({ reflect: true })\n  alignment: (typeof TOOLTIP_ALIGNMENT)[keyof typeof TOOLTIP_ALIGNMENT] = TOOLTIP_ALIGNMENT.START;\n\n  @Prop()\n  hideArrow = false;\n\n  @Prop()\n  openOnHover = false;\n\n  @Prop()\n  autopositionTooltip = false;\n\n  @Prop({ reflect: true })\n  isOpen = false;\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('scroll', { target: 'document' })\n  handleScroll() {\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  @Listen('click', { target: 'window' })\n  handleOutsideClick(event: MouseEvent) {\n    if (!this.host.contains(event.target as Node)) {\n      this.isOpen = false;\n    }\n  }\n\n  private handleButtonClick() {\n    if (!this.openOnHover) {\n      this.isOpen = !this.isOpen;\n    }\n  }\n\n  private handleMouseEnter() {\n    if (this.openOnHover) {\n      this.isOpen = true;\n    }\n  }\n\n  private handleMouseLeave() {\n    if (this.openOnHover) {\n      this.isOpen = false;\n    }\n  }\n\n  private tooltipId = `mdx-tooltip-${Math.random().toString(36).substring(2, 15)}`;\n\n  componentDidRender() {\n    this.host.children[0].setAttribute('aria-describedby', this.tooltipId);\n    this.host.children[0].setAttribute('aria-haspopup', 'true');\n    this.host.children[0].setAttribute('aria-expanded', this.isOpen ? 'true' : 'false');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('id', this.tooltipId);\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('aria-hidden', this.isOpen ? 'false' : 'true');\n    this.host.shadowRoot?.querySelector('.tooltip__flyout')?.setAttribute('role', 'tooltip');\n\n    if (this.isOpen && this.autopositionTooltip) {\n      this.updateTooltipPosition();\n    }\n  }\n\n  private hasIconSlot() {\n    return !!this.host.querySelector('[slot=\"icon\"]');\n  }\n\n  private updateTooltipPosition = debounce(this._updateTooltipPosition.bind(this), 50);\n  private _updateTooltipPosition() {\n    const flyout = this.host.shadowRoot?.querySelector('.tooltip__flyout');\n    if (!flyout) {\n      return;\n    }\n    const flyoutRect = flyout.getBoundingClientRect();\n    if (flyoutRect.left < -20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.RIGHT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.right > window.innerWidth + 20 && flyoutRect.width * 2 < window.innerWidth) {\n      this.position = TOOLTIP_POSITIONS.LEFT;\n      if (flyoutRect.top > window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.top < window.innerHeight / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.top < -20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.BOTTOM;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n    if (flyoutRect.bottom > window.innerHeight + 20 && flyoutRect.height * 2 < window.innerHeight) {\n      this.position = TOOLTIP_POSITIONS.TOP;\n      if (flyoutRect.right > window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.END;\n      } else if (flyoutRect.right < window.innerWidth / 4) {\n        this.alignment = TOOLTIP_ALIGNMENT.START;\n      } else {\n        this.alignment = TOOLTIP_ALIGNMENT.CENTER;\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={`tooltip ${this.position} ${this.isOpen ? 'open' : ''}`}\n        onMouseEnter={() => this.handleMouseEnter()}\n        onMouseLeave={() => this.handleMouseLeave()}\n        onFocusout={() => (this.isOpen = false)}\n        onFocusin={() => (this.isOpen = true)}\n        onClick={() => this.handleButtonClick()}\n        aria-haspopup=\"true\"\n      >\n        <slot />\n        <div\n          class={`tooltip__flyout${this.hasIconSlot() ? ' tooltip__flyout--has-icon' : ''}${\n            this.isOpen ? ' tooltip__flyout--is-open' : ''\n          }`}\n        >\n          <slot name=\"icon\" />\n          <slot name=\"title\" />\n          <slot name=\"content\" />\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}